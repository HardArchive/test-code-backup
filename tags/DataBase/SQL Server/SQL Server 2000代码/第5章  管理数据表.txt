5.1.2  创建表
接下来我们通使用CREATE TABLE语句，来创建“图书管理系统”数据库中的“图书明细表”。在“图书明细表”中，我们创建字段分别为【图书编号】类型为int；【类别编号】类型为smallint；【图书名称】类型为nvarchar(50)；【作者编号】类型为char；【出版社编号】类型为char；【出版日期】类型为smalldatetime；【定价】类型为money；【是否借出】类型为bit；【封面】类型为image，其应用方法如下：
USE 图书管理系统
CREATE TABLE 图书明细表
(  图书编号     int not null,
类别编号     smallint null,
图书名称     nvarchar(50) null,
作者编号     char(10) null,
出版社编号   char null,
出版日期     smalldatetime null,
定价         money null
是否借出     bit not null,
封面         image null,
GO
5.1.3  修改表的结构
1.下面通过实例说明ALTER TABLE语句的使用。例如，在用户信息表中修改“图书明细表”的属性。将字段名为“图书名称”的列长度由用来的50改为60，将名为“日期”的列的数据类型由原来的smalldatetime改为datetime。
USE 图书管理系统
ALTER TABLE 图书明细表
ALTER COLUMN 图书名称 nvarchar(60)
GO
ALTER TABLE 图书明细表
ALTER COLUMN 日期 datetime
GO
2.在“图书明细表”中添加一个新字段，该字段名为“作者”
在前出我们学习了使用【企业管理器】向“图书管理系统”数据库的“图书明细表”表中添加“作者”字段。为了方便用户理解，我们再来通过T-SQL语句，向“图书明细表”表中添加“作者”字段，其语法如下：
USE 图书管理系统
ALTER TABLE 图书明细表
ADD
作者 NVARCHAR(30) NULL
GO
3.删除新添加的 “作者”字段
下面我们使用T-SQL中的DROP语句，来删除所添加在“图书明细表”表中的“作者”字段。在删除该字段时，首先，我们打开“图书管理系统”数据库，然后明确所要修改的表名为“图书明细表”，再删除表中的“作者”字段。具体语句如下：
USE 图书管理系统
ALTER TABLE 图书明细表
DROP COLUMN 作者
GO
5.1.4  删除表
在了解了DROP TABLE语句在语法后，下面我们以删除“图书明细表”为例，学习DROP TABLE语句的使用方法：
DROP TABLE 图书明细表
GO
5.2.2  表记录的操作
1.下面我们可以通过T-SQL语言中的INSERT语句，来向“图书管理系统”数据库中的“图书明细表”中添加数据。例如，我们所添加的记录信息为【图书编号】为9801；【类别编号】为8；【图书名称】为'C语言'；【作者编号】为10005；【出版社编号】为1001；【出版日期】为'2005-12-20'；【单价】为68；【是否借出】为0；【封面】为'10'，具语法如下：
USE 图书管理系统
INSERT INTO 图书明细表
VALUES(9801,8,'C语言',10005,1001,'2005-12-20',68,0,'10')
GO
2.新建一个表并向表中添加数据
新建一个名为“作者表2”的表，该表中的字段名及字段属性均和“作者表”相同，然后将“作者表”中籍贯是北京的作者的相关信息插入到“作者表2”中。
USE 图书管理系统
CREATE TABLE 作者表2
(	作者编号		char(10) not null,
姓名			nvarchar(20) null,
性别			char(2) null,
电话			char(14) null,
家庭住址		nvarchar(50) null,
籍贯			nvarchar(50) null
)
INSERT INTO 作者表2
SELECT 作者编号,姓名,性别,电话,家庭住址,籍贯
FROM 作者表
WHERE 籍贯='北京'
3.下面通过将“借出信息”表中的“应还日期”增加31天为例子，来说明如何使用UPDATE命令修改数据。
	USE 图书管理系统
	UPDATE 借出信息
	SET 应还日期=应还日期+31
4.修改记录信息
下面我们将“学生信息表”中姓名为“刘亮亮”的同学的系别改为“计算机”，政治面貌改为“入党积极分子”，家庭住址改为“北京市朝阳区”。
	USE 图书管理系统
	UPDATE 学生信息表
	SET 系别='计算机',
		政治面貌='入党积极分子',
		家庭住址='北京市朝阳区'
	WHERE 姓名='刘亮亮'
5.下面我们将“图书管理系统”数据库中“学生信息表”中的籍贯为“长沙”的记录删除。
USE 图书管理系统
DELETE 
FROM 学生信息表
WHERE 籍贯='长沙'
6.使用DELETE命令删除表中所有记录
将“图书管理系统”数据库“作者表”中的所有行全部删除，其方法如下：
USE 图书管理系统
DELETE  作者表
5.3.2  使用默认对象
下面是一个使用CREATE DEFAULT创建默认值对象的例子。例如，我们创建“库存量”默认对象，该默认值对象用来约束“库存表”中的“库存量”字段，当默认或者缺省状态下，其值为0。
USE 经销商
Go
CREATE DEFAULT 库存量 As 0
5.4.1  创建规则
1.创建一个leibie规则
我们可以创建一个leibie规则，来约束“图书明细表”中的【类别编号】字段，来约束其字段值必须在类别种类内容。
USE 图书管理系统
GO
CREATE RULE leibie
   AS @类别编号 IN('1','2','3','4','5','6','7','8')
5.4.3  删除规则
下面我们可以通过sp_unbindrule过程语句，将“图书管理系统”数据库中”中的【定价】字段所绑定的“单价”规则解除，并删除该规则。
USE 图书管理系统
GO
EXEC sp_unbindrule '图书明细表.定价'
解除规则的绑定后，就可以使用DROP RULE语句删除。
DROP RULE 单价
上机练习5-1：使用TRUNCATE TABLE清空表数据
RUNCATE TABLE语句可以删除表格中所有的数据，只留下一个表的定义。使用TRUNCATE TABLE	语句执行操作，通常要比使用DELETE语句快。因为TRUNCATE TABLE是不记录日志的操作。TRUNCATE TABLE将释放表的数据和索引所占据的所有空间，以及为全部索引分配的页。
使用TRUNCATE TABLE	的语法是：
TRUNCATE TABLE   name
其中name是指要截断的表的名称或要删除其全部行的表的名称。
下面我们通过使用TRUNCATE TABLE语句，来清空“经销商”数据库中的“顾客信息表”中的数据。我们可以通过学习下面的语句来学习TRUNCATE TABLE语句应用方法。
USE 经销商
GO
TRUNCATE TABLE 顾客信息表
GO

